(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3027:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),a(908),a(1506),a(5866);var s=a(3191),r=a(8716),i=a(7922),l=a.n(i),n=a(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,908)),"C:\\Users\\caner.karadag\\Cursor_Projeler\\Tedarikci_Irsaliye\\app\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\Users\\caner.karadag\\Cursor_Projeler\\Tedarikci_Irsaliye\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\caner.karadag\\Cursor_Projeler\\Tedarikci_Irsaliye\\app\\app\\page.tsx"],m="/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8094:(e,t,a)=>{Promise.resolve().then(a.bind(a,3642))},1298:(e,t,a)=>{Promise.resolve().then(a.bind(a,5778))},1446:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},7405:(e,t,a)=>{"use strict";function s(e){switch(e){case"invoiced":return"bg-blue-100 text-blue-800";case"calculated":return"bg-green-100 text-green-800";default:return"bg-yellow-100 text-yellow-800"}}function r(e){switch(e){case"invoiced":return"Faturalandırıldı";case"calculated":return"Hesaplandı";default:return"Beklemede"}}function i(e){return`₺${e.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function l(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("tr-TR")}function n(e,t){let a=null;return function(...s){a&&clearTimeout(a),a=setTimeout(()=>{a=null,e(...s)},t)}}a.d(t,{Ds:()=>n,li:()=>r,p6:()=>l,xG:()=>i,z2:()=>s})},3642:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(326),r=a(7577);function i(){return s.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"TIF"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Portal"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enterprise"})]})]}),(0,s.jsxs)("nav",{className:"flex items-center space-x-8",children:[s.jsx("a",{href:"/",className:"text-gray-600 hover:text-gray-900 font-medium text-sm",children:"Anasayfa"}),s.jsx("a",{href:"/invoices",className:"text-gray-600 hover:text-gray-900 font-medium text-sm",children:"Faturalar"}),s.jsx("a",{href:"/reports",className:"text-gray-600 hover:text-gray-900 font-medium text-sm",children:"Raporlar"}),s.jsx("a",{href:"/settings",className:"text-gray-600 hover:text-gray-900 font-medium text-sm",children:"Ayarlar"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{className:"relative p-2 text-gray-600 hover:text-gray-900",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5-5-5h5v-5a7.5 7.5 0 1 0-15 0v5h5l-5 5-5-5h5v-5a7.5 7.5 0 1 1 15 0v5z"})}),s.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"3"})]}),s.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900",children:(0,s.jsxs)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-gray-600 font-medium text-sm",children:"NT"})}),s.jsx("span",{className:"text-gray-700 font-medium text-sm",children:"Niyazi Tun\xe7"})]})]})]})})})}var l=a(7405);function n({onFilterChange:e}){let[t,a]=(0,r.useState)({company:"",supplier:"",shippingNumber:"",status:""}),[i,n]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),o=(0,r.useMemo)(()=>(0,l.Ds)(t=>{e(t)},500),[e]),m=(0,r.useCallback)((s,r)=>{let i={...t,[s]:r};"company"===s&&(i.supplier=""),a(i),"shippingNumber"===s?o(i):e(i)},[t,e,o]),x=(0,r.useCallback)(()=>{e(t)},[t,e]),u=(0,r.useCallback)(()=>{let t={company:"",supplier:"",shippingNumber:"",status:""};a(t),e(t)},[e]);return(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm w-full",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"İrsaliye Filtreleme"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 lg:gap-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şirket"}),(0,s.jsxs)("select",{value:t.company,onChange:e=>m("company",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Şirket se\xe7in..."}),i.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tedarik\xe7i"}),(0,s.jsxs)("select",{value:t.supplier,onChange:e=>m("supplier",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Tedarik\xe7i se\xe7in..."}),d.map(e=>s.jsx("option",{value:e.supplier_code,children:e.supplier_name},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İrsaliye Numarası"}),s.jsx("input",{type:"text",value:t.shippingNumber,onChange:e=>m("shippingNumber",e.target.value),placeholder:"İrsaliye numarasını girin...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stat\xfc"}),(0,s.jsxs)("select",{value:t.status,onChange:e=>m("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Stat\xfc se\xe7in..."}),s.jsx("option",{value:"pending",children:"Beklemede"}),s.jsx("option",{value:"calculated",children:"Hesaplandı"}),s.jsx("option",{value:"invoiced",children:"Faturalandırıldı"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:u,className:"p-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,s.jsxs)("button",{onClick:x,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center space-x-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("span",{children:"İrsaliye Listele"})]})]})]})}function d({filters:e}){let[t,a]=(0,r.useState)([]),[i,l]=(0,r.useState)(!0),[n,d]=(0,r.useState)(null),[c,o]=(0,r.useState)(1),[m,x]=(0,r.useState)(1),[u,p]=(0,r.useState)(0),[h]=(0,r.useState)(10),[g,y]=(0,r.useState)(!1),[b,j]=(0,r.useState)(null),[f,N]=(0,r.useState)(!1),[v,w]=(0,r.useState)({}),[k,S]=(0,r.useState)(null),[C,F]=(0,r.useState)(!1),[T,_]=(0,r.useState)(!1),[L,P]=(0,r.useState)(!1),[A,M]=(0,r.useState)(null),[q,D]=(0,r.useState)([]),[I,R]=(0,r.useState)(!1),z=e=>{if(!e)return{code:"-",color:"-",size:"-"};let t=e.trim().split(/[\s-]+/);return t.length>=2?{code:t[0],color:t[1]||"-",size:t[2]||"-"}:1===t.length?{code:t[0],color:"-",size:"-"}:{code:e,color:"-",size:"-"}},B=()=>{let e=q.reduce((e,t)=>e+(v[t.id]||t.unit_price||0)*t.quantity,0),t=.18*e;S({calculatedPrice:e+t-0,invoiceType:"invoice"===H?"SATIS_FATURASI":"MANUAL",breakdown:{baseAmount:e,taxAmount:t,discountAmount:0},calculation:{method:"invoice"===H?"Fatura Birim Fiyatı":"Manuel Birim Fiyatı",details:"invoice"===H?"Se\xe7ilen alış faturalarındaki birim fiyatlara g\xf6re hesaplandı":"Manuel girilen birim fiyatlara g\xf6re hesaplandı"}})},[H,$]=(0,r.useState)("invoice"),[O,E]=(0,r.useState)(!1),[W,U]=(0,r.useState)(null),[G,K]=(0,r.useState)({}),[V,J]=(0,r.useState)([]),[Y,X]=(0,r.useState)(!1),Q=async(t=c)=>{try{l(!0);let s=new URLSearchParams;e.shippingNumber&&s.append("shippingNumber",e.shippingNumber),e.status&&s.append("status",e.status),e.supplier&&s.append("supplierCode",e.supplier),e.company&&s.append("companyId",e.company),s.append("page",t.toString()),s.append("limit",h.toString());let r=await fetch(`/api/shipping?${s.toString()}`);if(!r.ok)throw Error("İrsaliye belgeleri y\xfcklenemedi");let i=await r.json(),n=i.data.map(e=>({id:parseInt(e.id),shipping_number:e.shippingNumber,supplier_name:e.supplierName,supplier_code:e.supplierCode||"",supplier_id:e.supplierId||void 0,shipping_date:e.date,total_amount:e.totalAmount,item_count:e.itemCount,status:"calculated"===e.status?"calculated":"invoiced"===e.status?"invoiced":"pending",notes:"",company:e.companyName||"Merkez",brand:e.brandName||"Marka A",invoice_number:e.invoiceNumber||void 0}));a(n),i.pagination&&(x(i.pagination.totalPages||1),p(i.pagination.total||0))}catch(e){d(e instanceof Error?e.message:"Bir hata oluştu")}finally{l(!1)}},Z=e=>{switch(e){case"invoiced":return"bg-blue-100 text-blue-800";case"calculated":return"bg-green-100 text-green-800";default:return"bg-yellow-100 text-yellow-800"}},ee=e=>{switch(e){case"invoiced":return"Faturalandırıldı";case"calculated":return"Hesaplandı";default:return"Beklemede"}},et=async(e,t)=>{let a=q.find(t=>t.id===e);if(a&&b){if(!b.supplier_id){alert("Tedarik\xe7i bilgisi bulunamadı");return}U({id:e,productCode:t,quantity:a.quantity}),E(!0);try{X(!0);let e=`/api/suppliers/${b.supplier_id}/purchase-invoices?productCode=${encodeURIComponent(t)}&unitPrice=${a.unit_price||0}&quantity=${a.quantity}`,s=await fetch(e);if(s.ok){let e=await s.json();e.success?(console.log("[Frontend] Gelen faturalar:",e.data),J(e.data)):console.error("[Frontend] API başarısız:",e)}else console.error("[Frontend] API hatası:",s.status,s.statusText)}catch(e){console.error("Faturalar y\xfcklenemedi:",e),alert("Faturalar y\xfcklenirken hata oluştu")}finally{X(!1)}}},ea=(e,t,a,s)=>{if(!W)return;let r=G[W.id]||[],i=r.reduce((e,t)=>e+t.quantity,0),l=W.quantity-i;if(l<=0){alert("İade miktarı tamamlandı");return}let n={invoiceNo:t,unitPrice:a,quantity:Math.min(l,s)};K(e=>({...e,[W.id]:[...r,n]}));let d=[...r,n],c=d.reduce((e,t)=>e+t.unitPrice*t.quantity,0),o=d.reduce((e,t)=>e+t.quantity,0),m=o>0?c/o:0;w(e=>({...e,[W.id]:m}))},es=e=>{j(e),y(!0),S(null)},er=async e=>{try{let t=await fetch(`/api/shipping/${e.id}/latest-calculation`);if(!t.ok){let e=await t.json();throw Error(e.error||"Hesaplama sonucu alınamadı")}let a=await t.json();if(!a.success||!a.data)throw Error("Hesaplama sonucu bulunamadı. L\xfctfen \xf6nce fiyat hesaplama yapın.");j(e),await el(a.data,a.data.invoiceType)}catch(e){console.error("Fatura oluşturma hatası:",e),alert(e instanceof Error?e.message:"Fatura oluşturma sırasında hata oluştu")}},ei=async e=>{if(b)try{F(!0);let t=await fetch(`/api/shipping/${b.id}/calculate-price`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shippingNumber:b.shipping_number,invoiceType:e})}),a=await t.json();if(!t.ok||!a.success){let e=a.error||"Fiyat hesaplama başarısız";throw Error(e)}S(a.data)}catch(e){console.error("Fiyat hesaplama hatası:",e),alert(e instanceof Error?e.message:"Fiyat hesaplama sırasında hata oluştu")}finally{F(!1)}},el=async(e,t)=>{if(b)try{let a=await fetch("/api/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shippingId:b.id,shippingNumber:b.shipping_number,priceCalculation:{calculatedPrice:e.calculatedPrice,invoiceType:t,breakdown:e.breakdown}})});if(!a.ok)throw Error("Fatura oluşturma başarısız");let s=await a.json();alert(`Fatura başarıyla oluşturuldu! Fatura No: ${s.data.invoice.invoice_number}`),Q(c),y(!1),S(null)}catch(e){console.error("Fatura oluşturma hatası:",e),alert("Fatura oluşturma sırasında hata oluştu")}};return i?s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Y\xfckleniyor..."})]})}):n?s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-red-600 mb-2",children:"⚠️ Hata"}),s.jsx("p",{className:"text-gray-600",children:n}),s.jsx("button",{onClick:()=>Q(c),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Tekrar Dene"})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm w-full",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"İrsaliye Listesi"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Toplam ",u," irsaliye bulundu (Sayfa ",c," / ",m,")"]})]})}),0===t.length?(0,s.jsxs)("div",{className:"px-6 py-8 text-center",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:"\uD83D\uDCC4"}),s.jsx("p",{className:"text-gray-600",children:"Hen\xfcz irsaliye belgesi bulunmuyor"})]}):s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full min-w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Şirket"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Marka"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"İrsaliye No"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Tedarik\xe7i"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[110px]",children:"Tarih"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[110px]",children:"\xdcr\xfcn Sayısı"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[130px]",children:"Toplam Tutar"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"Fatura No"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Durum"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:"İşlemler"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:e.company||"Merkez"}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:e.brand||"Marka A"}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.shipping_number})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"text-sm text-gray-900 max-w-[300px] truncate",title:e.supplier_name||"-",children:e.supplier_name||"-"})}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:e.shipping_date?new Date(e.shipping_date).toLocaleDateString("tr-TR"):"-"}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:e.item_count||0}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:"invoiced"===e.status||"calculated"===e.status?`₺${(e.total_amount||0).toLocaleString("tr-TR")}`:"-"}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 font-medium",children:e.invoice_number||"-"}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(e.status)}`,children:ee(e.status)})}),(0,s.jsxs)("td",{className:"px-4 py-4 text-sm font-medium",children:["pending"===e.status&&s.jsx("button",{onClick:()=>es(e),className:"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-md font-medium",children:"Fiyat Hesapla"}),"calculated"===e.status&&s.jsx("button",{onClick:()=>er(e),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1.5 rounded-md font-medium shadow-sm",children:"Fatura Oluştur"}),"invoiced"===e.status&&s.jsx("span",{className:"text-gray-400",children:"-"})]})]},e.id))})]})}),m>1&&s.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:(c-1)*h+1})," - ",s.jsx("span",{className:"font-medium",children:Math.min(c*h,u)})," / ",s.jsx("span",{className:"font-medium",children:u})," kayıt g\xf6steriliyor"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>o(1),disabled:1===c||i,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"İlk"}),s.jsx("button",{onClick:()=>o(e=>Math.max(1,e-1)),disabled:1===c||i,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,m)},(e,t)=>{let a;return a=m<=5?t+1:c<=3?t+1:c>=m-2?m-4+t:c-2+t,s.jsx("button",{onClick:()=>o(a),disabled:i,className:`px-3 py-2 text-sm font-medium rounded-md ${c===a?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"} disabled:opacity-50 disabled:cursor-not-allowed`,children:a},a)})}),s.jsx("button",{onClick:()=>o(e=>Math.min(m,e+1)),disabled:c===m||i,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsx("button",{onClick:()=>o(m),disabled:c===m||i,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Son"})]})]})})]}),g&&b&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Fiyat Hesaplama - ",b.shipping_number]}),s.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"İrsaliye Detayları"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şirket"}),s.jsx("p",{className:"text-sm text-gray-900",children:b.company||"Merkez"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tedarik\xe7i"}),s.jsx("p",{className:"text-sm text-gray-900",children:b.supplier_name})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih"}),s.jsx("p",{className:"text-sm text-gray-900",children:b.shipping_date?new Date(b.shipping_date).toLocaleDateString("tr-TR"):"-"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A\xe7ıklama"}),s.jsx("p",{className:"text-sm text-gray-900",children:b.notes||"-"})]})]})]}),s.jsx("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>{M("LIFO"),ei("LIFO")},disabled:C,className:"flex-1 bg-emerald-50 text-emerald-700 border border-emerald-300 hover:bg-emerald-100 px-6 py-3 rounded-lg shadow-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Hesaplanıyor...":"LIFO'dan Hesapla"}),s.jsx("button",{onClick:()=>{$("invoice"),P(!1),_(!0),M("Faturadan")},disabled:C,className:"flex-1 bg-blue-50 text-blue-700 border border-blue-300 hover:bg-blue-100 px-6 py-3 rounded-lg shadow-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Hesaplanıyor...":"Fatura'dan Hesapla"}),s.jsx("button",{onClick:()=>{$("manual"),P(!1),_(!0),M("Manuel")},disabled:C,className:"flex-1 bg-orange-50 text-orange-700 border border-orange-300 hover:bg-orange-100 px-6 py-3 rounded-lg shadow-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Manuel Hesapla"})]})}),k&&(0,s.jsxs)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"text-md font-medium text-green-900 mb-2",children:"Hesaplama Sonucu"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Ana Tutar:"})," ₺",k.breakdown.baseAmount.toLocaleString("tr-TR")]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"KDV:"})," ₺",k.breakdown.taxAmount.toLocaleString("tr-TR")]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"İndirim:"})," ₺",k.breakdown.discountAmount.toLocaleString("tr-TR")]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Toplam:"})," ₺",k.calculatedPrice.toLocaleString("tr-TR")]})]}),(0,s.jsxs)("p",{className:"text-xs text-green-900 mt-2 font-medium",children:["Hesaplama Y\xf6ntemi : ",A||(k?.invoiceType==="LIFO"?"LIFO":"invoice"===H?"Faturadan":"Manuel")]})]}),s.jsx("button",{onClick:()=>{P(!0),_(!0)},className:"ml-4 shrink-0 px-3 py-1 rounded-md bg-green-600 text-white text-xs hover:bg-green-700",children:"Kalem Detaylarını G\xf6ster"})]}),b?.status==="calculated"&&s.jsx("div",{className:"flex justify-end pt-3 border-t border-green-200",children:s.jsx("button",{onClick:()=>{if(k){let e="LIFO"===k.invoiceType?"LIFO":"SATIS_FATURASI";el(k,e),y(!1),S(null)}},className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-md font-medium shadow-sm",children:"Fatura Oluştur"})})]})]})]})}),T&&b&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Kalem Detayları - ",b.shipping_number]}),s.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"p-6",children:[L&&k?.itemCalculations&&k.itemCalculations.length>0&&(0,s.jsxs)("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-md font-semibold text-blue-900 mb-3",children:"LIFO Hesaplama Detayları"}),s.jsx("div",{className:"space-y-4",children:k.itemCalculations.map((e,t)=>{let a=z(e.productCode);return(0,s.jsxs)("div",{className:"bg-white rounded-md p-3 border border-blue-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:a.code}),"-"!==a.color&&(0,s.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["(",a.color,")"]}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["- ",e.quantity," adet"]})]}),(0,s.jsxs)("span",{className:"font-semibold text-blue-900",children:["Toplam: ₺",e.total.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsx("div",{className:"mt-2 space-y-1",children:e.lifoItems.map((e,t)=>(0,s.jsxs)("div",{className:"text-sm text-gray-700 pl-4 border-l-2 border-blue-300",children:[s.jsx("span",{className:"font-medium",children:e.invoiceNumber})," - ",(0,s.jsxs)("span",{children:[e.quantity," adet \xd7 ₺",e.unitPrice.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})]})," = ",(0,s.jsxs)("span",{className:"font-medium",children:["₺",e.total.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},t))})]},t)})})]}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"\xdcr\xfcn Kodu"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Renk"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Beden"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Adet"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Referans Fatura No"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Birim Fiyat"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"İşlem"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Toplam Tutar"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Y\xfckleniyor..."]})})}):0===q.length?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"İrsaliye detayı bulunamadı"})}):q.map(e=>{let t=z(e.product_code),a=k?.itemCalculations?.find(t=>t.productCode===e.product_code),r=a?a.total/a.quantity:v[e.id]||e.unit_price||0,i=r*e.quantity;return(0,s.jsxs)("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:t.code}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:t.color}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:t.size}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.quantity}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a?s.jsx("div",{className:"space-y-1",children:a.lifoItems.map((e,t)=>(0,s.jsxs)("div",{className:"text-xs",children:[e.invoiceNumber," (",e.quantity," adet)"]},t))}):(Array.isArray(G[e.id])&&G[e.id].length>0?G[e.id][0].invoiceNo:G[e.id]?.invoiceNo)||"-"}),s.jsx("td",{className:"px-4 py-3",children:L||a?(0,s.jsxs)("span",{className:"text-sm text-gray-900",children:["₺",r.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})]}):s.jsx("input",{type:"number",step:"0.01",value:void 0!==v[e.id]?v[e.id]:e.unit_price||"",onChange:t=>w(a=>({...a,[e.id]:parseFloat(t.target.value)||0})),className:`w-24 px-2 py-1 border rounded text-sm ${"invoice"===H?"bg-gray-100 border-gray-200 cursor-not-allowed":"border-gray-300"}`,placeholder:"0.00",disabled:"invoice"===H||L})}),s.jsx("td",{className:"px-4 py-3",children:"invoice"!==H||L||a?s.jsx("span",{className:"text-gray-400",children:"-"}):s.jsx("button",{onClick:()=>et(e.id,e.product_code),className:"text-blue-600 hover:text-blue-900 text-sm bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded",children:"Fatura Se\xe7"})}),(0,s.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900",children:["₺",i.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},e.id)})})]})}),!(L&&k?.itemCalculations&&k.itemCalculations.length>0)&&s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:()=>{B();let e=(()=>{let e=q.reduce((e,t)=>e+(v[t.id]||t.unit_price||0)*t.quantity,0),t=.18*e;return{base:e,tax:t,discount:0,total:e+t-0}})();fetch(`/api/shipping/${b?.id}/mark-calculated`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({totalAmount:e.total,baseAmount:e.base,taxAmount:e.tax,discountAmount:e.discount,invoiceType:"invoice"===H?"SATIS_FATURASI":"MANUAL",method:"invoice"===H?"Fatura Birim Fiyatı":"Manuel Birim Fiyatı",details:"invoice"===H?"Fatura fiyatlarıyla hesaplandı":"Manuel girilen fiyatlarla hesaplandı"})}).then(()=>{_(!1),Q(c)})},disabled:I||0===q.length,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Tutar Hesapla"})})]})]})}),O&&W&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Fatura Se\xe7imi - ",W.productCode]}),s.jsx("button",{onClick:()=>{E(!1),U(null)},className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("strong",{children:W.productCode})," \xfcr\xfcn\xfc i\xe7in daha \xf6nceki alış faturalarınız:"]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mb-4",children:[(0,s.jsxs)("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"İade Edilecek Miktar:"})," ",W.quantity," adet"]}),(()=>{let e=(G[W.id]||[]).reduce((e,t)=>e+t.quantity,0),t=W.quantity-e;return(0,s.jsxs)("p",{className:`text-sm mt-1 ${t>0?"text-orange-700":"text-green-700"}`,children:[s.jsx("strong",{children:"Se\xe7ilen:"})," ",e," adet",t>0&&(0,s.jsxs)("span",{className:"ml-2",children:["⚠️ Kalan: ",t," adet"]}),0===t&&s.jsx("span",{className:"ml-2",children:"✓ Tamamlandı"})]})})()]}),(()=>{let e=G[W.id]||[];return e.length>0?(0,s.jsxs)("div",{className:"mb-4 bg-gray-50 border border-gray-200 rounded-md p-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Se\xe7ilen Faturalar:"}),s.jsx("ul",{className:"space-y-1",children:e.map((e,t)=>(0,s.jsxs)("li",{className:"text-sm text-gray-600",children:["✓ ",e.invoiceNo," - ",e.quantity," adet \xd7 ₺",e.unitPrice.toLocaleString("tr-TR",{minimumFractionDigits:2})," = ₺",(e.quantity*e.unitPrice).toLocaleString("tr-TR",{minimumFractionDigits:2})]},t))})]}):null})()]}),Y?(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Faturalar y\xfckleniyor..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fatura No"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tarih"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Birim Fiyat"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Mevcut Adet"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"İşlem"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===V.length?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"Bu \xfcr\xfcn i\xe7in fatura bulunamadı"})}):V.map(e=>{let t=e=>e.trim().replace(/\s+/g,"-").toUpperCase(),a=t(W.productCode),r=e.items.find(e=>{let s=t(e.product_code);return s===a||s.startsWith(a.split("-")[0]+"-")});if(!r)return null;let i=G[W.id]||[],l=i.reduce((e,t)=>e+t.quantity,0),n=W.quantity-l,d=i.some(t=>t.invoiceNo===e.invoice_number),c=r.quantity;return(0,s.jsxs)("tr",{className:d?"bg-gray-50":"",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.invoice_number}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(e.invoice_date).toLocaleDateString("tr-TR")}),(0,s.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900",children:["₺",r.unit_price.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:c}),s.jsx("td",{className:"px-4 py-3",children:n>0?s.jsx("button",{onClick:()=>ea(e.id,e.invoice_number,r.unit_price,c),disabled:d,className:`text-sm px-3 py-1 rounded ${d?"bg-gray-200 text-gray-500 cursor-not-allowed":"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100"}`,children:d?"Se\xe7ildi":"Se\xe7"}):s.jsx("span",{className:"text-sm text-gray-400",children:"-"})})]},e.id)})})]})}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{E(!1),U(null),W&&K(e=>{let t={...e};return delete t[W.id],t})},className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"İptal"}),s.jsx("button",{onClick:()=>{if(!W)return;let e=(G[W.id]||[]).reduce((e,t)=>e+t.quantity,0);if(e<W.quantity){let t=W.quantity-e;alert(`Kalan ${t} adet i\xe7in başka bir fatura se\xe7in`);return}E(!1),U(null)},disabled:!W||(G[W.id]||[]).reduce((e,t)=>e+t.quantity,0)<W.quantity,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Tamam"})]})]})]})]})})]})}function c(){let[e,t]=(0,r.useState)({company:"",supplier:"",shippingNumber:"",status:""});return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[s.jsx(i,{}),s.jsx("main",{className:"w-full px-4 md:px-8 lg:px-12 py-8",children:(0,s.jsxs)("div",{className:"w-full mx-auto space-y-8 max-w-[1920px]",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-3xl font-bold text-balance",children:"Tedarik\xe7i İade İrsaliyesi Faturalandırma"})}),s.jsx(n,{onFilterChange:e=>{t(e)}}),s.jsx(d,{filters:e})]})})]})}},1506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,metadata:()=>c});var s=a(9510),r=a(1228),i=a.n(r),l=a(6550),n=a.n(l),d=a(441);a(7272);let c={title:"Tedarik\xe7i İrsaliye Sistemi",description:"Tedarik\xe7i İade İrsaliyesi Faturalandırma Sistemi",generator:"v0.app"};function o({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:`font-sans ${i().variable} ${n().variable}`,children:[e,s.jsx(d.c,{})]})})}},908:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`C:\Users\caner.karadag\Cursor_Projeler\Tedarikci_Irsaliye\app\app\page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,326],()=>a(3027));module.exports=s})();